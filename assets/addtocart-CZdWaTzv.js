import{g as s,s as S,q as x,p as h}from"./showToast-BlDhiz4x.js";const v=document.querySelector(".ProductSubTotal"),N=document.querySelector(".FinalTotalProduct"),g=(()=>{let o=s().reduce((n,a)=>{let e=parseInt(a.price)||0;return n+e},0);console.log(o),v.textContent=`₹${o}`,N.textContent=`₹${o+50}`}),q=((c,l,o,n)=>{let a=s();const e=document.querySelector(`#card${l}`),m=e.querySelector(".numberstockshow"),y=e.querySelector("#productPrice");let t=1,d=0,i=a.find(u=>u.id===l);i&&(t=i.quantity,n=i.price/i.quantity),c.target.className==="increase"&&(t<o?t=t+1:t===o&&(t=o)),c.target.className==="decrease"&&t>1&&(t=t-1),d=n*t,d=Number(d.toFixed(2));let r={id:l,quantity:t,price:d};r=a.map(u=>u.id===l?r:u),localStorage.setItem("cardProduct",JSON.stringify(r)),m.innerHTML=t,y.innerHTML=d,g()}),b=(c,l)=>{let n=s().find(e=>e.id===c),a=1;return n&&(a=n.quantity,l=n.price),{quantity:a,price:l}},E=c=>{let o=s().filter(a=>a.id!==c);localStorage.setItem("cardProduct",JSON.stringify(o));let n=document.getElementById(`card${c}`);n&&(n.remove(),S("delete",c)),x(o)};let f=JSON.parse(localStorage.getItem("cardProduct"))||[];const w=document.querySelector("#cartValue i");w.innerText=f.length;const I=c=>{if(!c||!Array.isArray(c))return;const l=document.querySelector("#outer-part"),o=document.querySelector("#showallcards");c.filter(a=>f.some(e=>e.id===a.id)).forEach(a=>{const{id:e,name:m,category:y,price:t,stock:d,image:i}=a,r=document.importNode(o.content,!0),u=b(e,t);r.querySelector(".category").textContent=y,r.querySelector("img").src=i,r.querySelector("#product-name").textContent=m,r.querySelector("#productPrice").textContent=u.price,r.querySelector(".numberstockshow").textContent=u.quantity;const p=r.querySelector(".allcardshow");p.id=`card${e}`,r.querySelector("#buttonRemove").addEventListener("click",()=>{E(e),p.remove(),S("remove",e)});const C=r.querySelector(".increase"),T=r.querySelector(".decrease");C.addEventListener("click",P=>{q(P,e,d,t)}),T.addEventListener("click",P=>{q(P,e,d,t)}),l.appendChild(r)})};I(h);g();
